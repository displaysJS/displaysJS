<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>displaysJS example | Display</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <!-- JS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="/js/displays.js" charset="utf-8"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
        <h3><a href="/">The Components</a> -
            <a href="/coordinator.html">DisplayCoordinator</a> -
            <a href="/display.html">Display</a>
        </h3>
        <h4>Timeline example</h4>
        <div id="display-container">
          <h1>Time [<i id="counter"></i>]: <i id="message"></i></h1>
          <br />
          <p>In this example we create a timeline object and populate it
          with time actions for when it's divisible by 5 in which case it's Fancy.
          Otherwise if it's divisible by 3 it's just a regular mutiple of 3.
          After creating the timeline, we start a time counter from 0 to 100 every second
          during which we do a 'callTimeAction' on the timeline object.</p>
          <br />
          <pre><code>
            function printReg() {
              document.getElementById("message").innerText = "Regular multiple of 3";
            };
            function printFancy(num) {
              document.getElementById("message").innerText = "Fancy => " + num;
            };

            <strong>var timeline = new Timeline({name:"TimeCounter"});</strong>

            var t=0;
            var counter=null;
            function tick() {
              document.getElementById("message").innerText =  "";
              document.getElementById("counter").innerText = t;
              timeline.callTimeAction(t);
              t+=1;
              if (t > 100) {
                clearInterval(counter);
              }
              //timeline.callNearestTimeAction(t);
            }

            /** Generate timeline **/
            for (var i = 0; i <= 100; i++) {
              if ((i % 5) == 0) {
                timeline.addTimeAction(i, printFancy, i, "Multipleof5s");
              } else if((i % 3) == 0) {
                timeline.addTimeAction(i, printReg);
              }
            }

            /** Start time counter **/
            function startTimeCounter() {
              counter = setInterval(tick, 1000);
            }

            document.addEventListener("DOMContentLoaded", function() {
              startTimeCounter();
            });
          </code></pre>
        </div>
    </div>
  </div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script type="text/javascript">
  function printReg() {
    document.getElementById("message").innerText = "Regular multiple of 3";
  };
  function printFancy(num) {
    document.getElementById("message").innerText = "Fancy => " + num;
  };

  var timeline = new Timeline({name:"TimeCounter"});

  var t=0;
  var counter=null;
  function tick() {
    document.getElementById("message").innerText =  "";
    document.getElementById("counter").innerText = t;
    timeline.callTimeAction(t);
    t+=1;
    if (t > 100) {
      clearInterval(counter);
    }
    //timeline.callNearestTimeAction(t);
  }
  /** Generate timeline **/
  for (var i = 0; i <= 100; i++) {
    if ((i % 5) == 0) {
      timeline.addTimeAction(i, printFancy, i, "Multipleof5s");
    } else if((i % 3) == 0) {
      timeline.addTimeAction(i, printReg);
    }
  }

  /** Start time counter **/
  function startTimeCounter() {
    counter = setInterval(tick, 1000);
  }

  document.addEventListener("DOMContentLoaded", function() {
    startTimeCounter();
  });

  </script>
</body>
</html>
