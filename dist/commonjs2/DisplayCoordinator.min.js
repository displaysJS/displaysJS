module.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined";n(this,t),this.action=e,this.args=i,this.name=r}return r(t,[{key:"toString",value:function(){return"TimeAction:("+this.name+")"}},{key:"trigger",value:function(){console.log(this,this.args),this.action.apply(this,this.args)}}]),t}(),o=function(){function t(e){n(this,t),this.time_actions={},this.name=e.name||"undefined",this.treshold=e.treshold||5}return r(t,[{key:"toString",value:function(){return"("+this.name+")"}},{key:"addTimeAction",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"undefined";"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.time_actions[t]=new s(e,i,n)}},{key:"callTimeAction",value:function(t){this.time_actions.hasOwnProperty(t)&&this.time_actions[t].trigger()}},{key:"callNearestTimeAction",value:function(t){var e;"NOTFOUND"!=(e=this.time_actions.hasOwnProperty(t)?t:this.getNearestTime(t))&&this.time_actions.hasOwnProperty(e)&&this.time_actions[e].trigger()}},{key:"getNearestTime",value:function(t){for(var e=1;e<this.treshold;e++){if(this.time_actions.hasOwnProperty(t+e))return t+e;if(this.time_actions.hasOwnProperty(t-e))return t-e}return"NOTFOUND"}}]),t}();t.exports={Timeline:o,TimeAction:s}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),o=i(2),l=function(){function t(e){n(this,t),this.context={time:0,duration:e.duration||0,emitter:new o.EventEmitter2({maxListeners:14})},this.stage=e.stage||{add:function(t){}},this.name=e.name||"undefined",this.timeline=new s.Timeline({name:this.name+"-timeline",treshold:e.timeline_treshold}),this.displays=e.displays,this.displays_not_ready=[],void 0!=e.primary_display&&e.primary_display.setAsPrimaryDisplay();for(var i in this.displays)this.displays[i].setContext(this.context),this.displays[i].ready()||this.displays_not_ready.push(this.displays[i]);this.context.emitter.on("tick",this.handleTick.bind(this)),this.context.emitter.on("pause",this.pausePerformance.bind(this)),this.context.emitter.on("continue",this.continuePerformance.bind(this)),this.context.emitter.on("ready",this.checkAllReady.bind(this))}return r(t,[{key:"toString",value:function(){return"("+this.name+")"}},{key:"checkAllReady",value:function(){for(var t in this.displays_not_ready)this.displays_not_ready[t].ready()&&this.displays_not_ready.splice(t,1);0==this.displays_not_ready.length&&this.context.emitter.emit("all_ready")}},{key:"allReady",value:function(){return 0==this.displays_not_ready.length}},{key:"tick",value:function(){this.context.time+=1,this.context.emitter.emit("tick")}},{key:"handleTick",value:function(){this.timeline.callTimeAction(this.context.time)}},{key:"seek",value:function(t){this.context.time=t,this.context.emitter.emit("tick")}},{key:"perform",value:function(){function t(){for(var t in this.displays){var e=this.displays[t].render();void 0!=e&&this.stage.add(e),this.displays[t].play()}}for(var e in this.displays)this.displays[e].setup();this.allReady()?t.bind(this)():this.context.emitter.on("all_ready",t.bind(this))}},{key:"continuePerformance",value:function(){for(var t in this.displays)this.displays[t].play()}},{key:"pausePerformance",value:function(){for(var t in this.displays)this.displays[t].pause()}},{key:"stopPerformance",value:function(){this.seek(0);for(var t in this.displays)this.displays[t].reset()}}]),t}();t.exports={DisplayCoordinator:l}},function(t,e,i){"use strict";(function(n){var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){function l(){this._events={},this._conf&&a.call(this,this._conf)}function a(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==o?t.maxListeners:y,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=y}function h(t,e){var i="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(i+=" Event name: "+e+"."),void 0!==n&&n.emitWarning){var r=new Error(i);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=t,n.emitWarning(r)}else console.error(i),console.trace&&console.trace()}function c(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,a.call(this,t)}function u(t,e,i,n){if(!i)return[];var r,s,o,l,a,h,c,f=[],p=e.length,y=e[n],d=e[n+1];if(n===p&&i._listeners){if("function"==typeof i._listeners)return t&&t.push(i._listeners),[i];for(r=0,s=i._listeners.length;r<s;r++)t&&t.push(i._listeners[r]);return[i]}if("*"===y||"**"===y||i[y]){if("*"===y){for(o in i)"_listeners"!==o&&i.hasOwnProperty(o)&&(f=f.concat(u(t,e,i[o],n+1)));return f}if("**"===y){c=n+1===p||n+2===p&&"*"===d,c&&i._listeners&&(f=f.concat(u(t,e,i,p)));for(o in i)"_listeners"!==o&&i.hasOwnProperty(o)&&("*"===o||"**"===o?(i[o]._listeners&&!c&&(f=f.concat(u(t,e,i[o],p))),f=f.concat(u(t,e,i[o],n))):f=o===d?f.concat(u(t,e,i[o],n+2)):f.concat(u(t,e,i[o],n)));return f}f=f.concat(u(t,e,i[y],n+1))}if(l=i["*"],l&&u(t,e,l,n+1),a=i["**"])if(n<p){a._listeners&&u(t,e,a,p);for(o in a)"_listeners"!==o&&a.hasOwnProperty(o)&&(o===d?u(t,e,a[o],n+2):o===y?u(t,e,a[o],n+1):(h={},h[o]=a[o],u(t,e,{"**":h},n+1)))}else a._listeners?u(t,e,a,p):a["*"]&&a["*"]._listeners&&u(t,e,a["*"],p);return f}function f(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var i=0,n=t.length;i+1<n;i++)if("**"===t[i]&&"**"===t[i+1])return;for(var r=this.listenerTree,s=t.shift();s!==o;){if(r[s]||(r[s]={}),r=r[s],0===t.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(e),!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners&&(r._listeners.warned=!0,h.call(this,r._listeners.length,s))):r._listeners=e,!0;s=t.shift()}return!0}var p=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=10;c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(t){t!==o&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},c.prototype.event="",c.prototype.once=function(t,e){return this._once(t,e,!1)},c.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},c.prototype._once=function(t,e,i){return this._many(t,1,e,i),this},c.prototype.many=function(t,e,i){return this._many(t,e,i,!1)},c.prototype.prependMany=function(t,e,i){return this._many(t,e,i,!0)},c.prototype._many=function(t,e,i,n){function r(){return 0==--e&&s.off(t,r),i.apply(this,arguments)}var s=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");return r._origin=i,this._on(t,r,n),s},c.prototype.emit=function(){this._events||l.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,i,n,r,s,o=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),o>3)for(e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];for(n=0,i=s.length;n<i;n++)switch(this.event=t,o){case 1:s[n].call(this,t);break;case 2:s[n].call(this,t,arguments[1]);break;case 3:s[n].call(this,t,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}}if(this.wildcard){s=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,s,a,this.listenerTree,0)}else{if("function"==typeof(s=this._events[t])){switch(this.event=t,o){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(o-1),r=1;r<o;r++)e[r-1]=arguments[r];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(o>3)for(e=new Array(o-1),r=1;r<o;r++)e[r-1]=arguments[r];for(n=0,i=s.length;n<i;n++)switch(this.event=t,o){case 1:s[n].call(this);break;case 2:s[n].call(this,arguments[1]);break;case 3:s[n].call(this,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||l.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,i,n,r,s,o=[],a=arguments.length;if(this._all){if(a>3)for(e=new Array(a),r=1;r<a;r++)e[r]=arguments[r];for(n=0,i=this._all.length;n<i;n++)switch(this.event=t,a){case 1:o.push(this._all[n].call(this,t));break;case 2:o.push(this._all[n].call(this,t,arguments[1]));break;case 3:o.push(this._all[n].call(this,t,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,e))}}if(this.wildcard){s=[];var h="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,s,h,this.listenerTree,0)}else s=this._events[t];if("function"==typeof s)switch(this.event=t,a){case 1:o.push(s.call(this));break;case 2:o.push(s.call(this,arguments[1]));break;case 3:o.push(s.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];o.push(s.apply(this,e))}else if(s&&s.length){if(s=s.slice(),a>3)for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];for(n=0,i=s.length;n<i;n++)switch(this.event=t,a){case 1:o.push(s[n].call(this));break;case 2:o.push(s[n].call(this,arguments[1]));break;case 3:o.push(s[n].call(this,arguments[1],arguments[2]));break;default:o.push(s[n].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},c.prototype.on=function(t,e){return this._on(t,e,!1)},c.prototype.prependListener=function(t,e){return this._on(t,e,!0)},c.prototype.onAny=function(t){return this._onAny(t,!1)},c.prototype.prependAny=function(t){return this._onAny(t,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},c.prototype._on=function(t,e,i){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||l.call(this),this.emit("newListener",t,e),this.wildcard?(f.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),i?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,h.call(this,this._events[t].length,t))):this._events[t]=e,this)},c.prototype.off=function(t,e){function i(t){if(t!==o){var e=Object.keys(t);for(var n in e){var r=e[n],l=t[r];l instanceof Function||"object"!==(void 0===l?"undefined":s(l))||null===l||(Object.keys(l).length>0&&i(t[r]),0===Object.keys(l).length&&delete t[r])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var l="string"==typeof t?t.split(this.delimiter):t.slice();r=u.call(this,null,l,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],r.push({_listeners:n})}for(var a=0;a<r.length;a++){var h=r[a];if(n=h._listeners,p(n)){for(var c=-1,f=0,y=n.length;f<y;f++)if(n[f]===e||n[f].listener&&n[f].listener===e||n[f]._origin&&n[f]._origin===e){c=f;break}if(c<0)continue;return this.wildcard?h._listeners.splice(c,1):this._events[t].splice(c,1),0===n.length&&(this.wildcard?delete h._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete h._listeners:delete this._events[t],this.emit("removeListener",t,e))}return i(this.listenerTree),this},c.prototype.offAny=function(t){var e,i=0,n=0;if(t&&this._all&&this._all.length>0){for(e=this._all,i=0,n=e.length;i<n;i++)if(t===e[i])return e.splice(i,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,i=0,n=e.length;i<n;i++)this.emit("removeListenerAny",e[i]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||l.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),i=u.call(this,null,e,this.listenerTree,0),n=0;n<i.length;n++){var r=i[n];r._listeners=null}else this._events&&(this._events[t]=null);return this},c.prototype.listeners=function(t){if(this.wildcard){var e=[],i="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,e,i,this.listenerTree,0),e}return this._events||l.call(this),this._events[t]||(this._events[t]=[]),p(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(t){return this.listeners(t).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return c}.call(e,i,e,t))!==o&&(t.exports=r)}()}).call(e,i(3))},function(t,e,i){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function l(){m&&y&&(m=!1,y.length?d=y.concat(d):_=-1,d.length&&a())}function a(){if(!m){var t=s(l);m=!0;for(var e=d.length;e;){for(y=d,d=[];++_<e;)y&&y[_].run();_=-1,e=d.length}y=null,m=!1,o(t)}}function h(t,e){this.fun=t,this.array=e}function c(){}var u,f,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var y,d=[],m=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new h(t,e)),1!==d.length||m||s(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},,,,function(t,e,i){t.exports=i(1)}]);